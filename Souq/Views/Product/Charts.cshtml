




<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<canvas id="myChart"></canvas>

 
<script>

    $(document).ready(function () {            //document.ready متشتغلش الا لما تبقي ريدي تقرا ملفات الجافاسكريبت
        $.ajax({
            type: "GET",
            url: "https://localhost:44370/Product/getAllProducts",
            constType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                console.log(response)

                labels = response.map(x => x.name)
                values = response.map(x => x.price)

                console.log(labels)
                console.log(values)




                const data = {
                    labels: labels,
                    datasets: [{
                        label: 'Weather ForeCasting',
                        backgroundColor: ['green', 'red', 'yellow', 'blue', 'magenta', 'cyan'],
                        borderColor: ['blue', 'magenta', 'green', 'cyan', '#332244', '#775533'],
                        data: values,
                    }
                    ]
                };

                const config = {
                    type: 'bar',
                    data: data,
                    options: {
                        plugins: {
                            title: {
                                display: true,
                                text: 'Lala',
                                align: 'end'
                            }
                        }
                    }
                };

                const myChart = new Chart(
                    document.getElementById('myChart'),
                    config
                );



            },
            error: function (response) {
                console.log(respone);
                alert("Error")
            }
        });
        });        
  
   




</script>  